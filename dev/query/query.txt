union traces
| where timestamp > ago(30m)
| where cloud_RoleName =~ 'test-scaler-engine' and  operation_Name =~ 'BellhopScaler'
| order by timestamp desc
| parse message with * "ERROR: " errorObject
| extend errObj = todynamic(errorObject).Exception
| where isnotnull(errObj)
| project OperationID = operation_Id, SubscriptionID = errObj.SubscriptionId, SubscriptionName = errObj.SubscriptionName, ResourceGroup = errObj.ResourceGroup, ResourceName = errObj.Name, ErrorType = errObj.Error.Type, ErrorMessage = errObj.Error.Message, StackTrace = errObj.Error.StackTrace

[concat('union traces | where timestamp > ago(30m) | where cloud_RoleName =~ ''', parameters('prefix'), '-scaler-function''', 'and  operation_Name =~ ''BellhopScaler'' | order by timestamp desc | parse message with * \"ERROR: \" errorObject | extend errObj = todynamic(errorObject).Exception | where isnotnull(errObj) | project OperationID = operation_Id, SubscriptionID = errObj.SubscriptionId, SubscriptionName = errObj.SubscriptionName, ResourceGroup = errObj.ResourceGroup, ResourceName = errObj.Name, ErrorType = errObj.Error.Type, ErrorMessage = errObj.Error.Message, StackTrace = errObj.Error.StackTrace')]

union traces
| where timestamp > ago(30m)
| where cloud_RoleName =~ 'test-function-engine' and operation_Name =~ 'BellhopEngine'
| order by timestamp desc
| parse message with * "ERRORDATA: " errorData
| where isnotempty(errorData)
| extend errorObj = todynamic(errorData)
| mv-expand error = errorObj.Errors
| project Name = errorObj.Name, ResourceGroup = errorObj.ResourceGroup, Subscription = errorObj.Subscription, ErrorType = error.Type, ErrorMessage = error.Message, ErrorTrace = error.StackTrace

[concat('union traces | where timestamp > ago(30m) | where cloud_RoleName =~ ''', parameters('prefix'), '-engine-function''', and operation_Name =~ ''BellhopEngine'' | order by timestamp desc | parse message with * "ERRORDATA: " errorData | where isnotempty(errorData) | extend errorObj = todynamic(errorData) | mv-expand error = errorObj.Errors | project Name = errorObj.Name, ResourceGroup = errorObj.ResourceGroup, Subscription = errorObj.Subscription, ErrorType = error.Type, ErrorMessage = error.Message, ErrorTrace = error.StackTrace')]

,
                {
                    "name": "Matthew Garrett",
                    "emailAddress": "matthew.garrett@microsoft.com"
                },
                {
                    "name": "Nills Franssens",
                    "emailAddress": "nills.franssens@microsoft.com"
                }